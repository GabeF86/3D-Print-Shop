<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3D Print Shop üñ®Ô∏è</title>
  <link href="https://fonts.googleapis.com/css2?family=Lilita+One&family=Nunito:wght@400;700;800&display=swap" rel="stylesheet" />
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: #f8f9ff; min-height: 100vh; font-family: 'Nunito', sans-serif; }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    @keyframes slideUp {
      from { transform: translateY(100%); }
      to { transform: translateY(0); }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes popIn {
      from { transform: scale(0.9) translateY(20px); opacity: 0; }
      to { transform: scale(1) translateY(0); opacity: 1; }
    }

    .header {
      background: linear-gradient(135deg, #6C5CE7, #a29bfe, #fd79a8, #fdcb6e);
      background-size: 300% 300%;
      animation: gradientShift 8s ease infinite;
      padding: 50px 24px 60px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    .header-glow {
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 20% 50%, rgba(255,255,255,0.2) 0%, transparent 50%),
                  radial-gradient(circle at 80% 20%, rgba(255,255,255,0.15) 0%, transparent 40%);
    }
    .header-content { position: relative; z-index: 1; }
    .header-emoji { font-size: 56px; margin-bottom: 12px; animation: float 3s ease-in-out infinite; }
    .header h1 {
      font-family: 'Lilita One', cursive;
      font-size: clamp(32px, 7vw, 52px);
      color: #fff;
      text-shadow: 0 3px 12px rgba(0,0,0,0.2);
      margin-bottom: 8px;
      letter-spacing: 1px;
    }
    .header p {
      font-size: clamp(16px, 3vw, 20px);
      color: rgba(255,255,255,0.92);
      font-weight: 700;
      max-width: 500px;
      margin: 0 auto;
    }

    .grid-wrapper {
      max-width: 960px;
      margin: -30px auto 0;
      padding: 0 20px;
      position: relative;
      z-index: 2;
    }
    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 20px;
    }
    .hint-text {
      text-align: center;
      font-size: 17px;
      color: #b2bec3;
      font-weight: 700;
      margin-top: 32px;
      padding: 0 20px;
    }

    .product-card {
      background: #fff;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 4px 16px rgba(0,0,0,0.08);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
      border: 3px solid transparent;
    }
    .product-card:hover {
      transform: translateY(-6px) scale(1.02);
    }
    .product-card.in-cart {
      border-color: var(--card-color);
    }
    .product-card:hover {
      box-shadow: 0 12px 40px rgba(0,0,0,0.12);
    }

    .card-image {
      height: 150px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 72px;
      position: relative;
      overflow: hidden;
    }
    .card-image .glow {
      position: absolute;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.3) 0%, transparent 60%);
    }
    .card-image .emoji {
      position: relative;
      transition: all 0.3s ease;
    }
    .product-card:hover .emoji {
      filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
      transform: scale(1.15) rotate(-5deg);
    }
    .check-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #fff;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      display: none;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      font-weight: 700;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    }
    .product-card.in-cart .check-badge {
      display: flex;
    }

    .card-body { padding: 18px 20px 20px; }
    .card-body h3 {
      margin: 0 0 6px;
      font-size: 20px;
      font-family: 'Lilita One', cursive;
      color: #2d3436;
      letter-spacing: 0.3px;
    }
    .card-body p {
      margin: 0 0 16px;
      font-size: 14px;
      color: #636e72;
      line-height: 1.5;
    }
    .add-btn {
      width: 100%;
      padding: 10px 0;
      border: none;
      border-radius: 12px;
      color: #fff;
      font-family: 'Nunito', sans-serif;
      font-weight: 800;
      font-size: 15px;
      cursor: pointer;
      transition: all 0.2s ease;
      letter-spacing: 0.5px;
    }
    .product-card.in-cart .add-btn {
      background: #dfe6e9 !important;
      color: #636e72;
    }

    /* CART BAR */
    .cart-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(255,255,255,0.97);
      backdrop-filter: blur(20px);
      border-top: 2px solid #eee;
      padding: 16px 24px;
      z-index: 100;
      box-shadow: 0 -8px 30px rgba(0,0,0,0.1);
      animation: slideUp 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      display: none;
    }
    .cart-bar.visible { display: block; }
    .cart-inner {
      max-width: 900px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 12px;
    }
    .cart-left { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
    .cart-label {
      font-family: 'Lilita One', cursive;
      font-size: 18px;
      color: #2d3436;
    }
    .cart-items { display: flex; gap: 8px; flex-wrap: wrap; }
    .cart-chip {
      border-radius: 30px;
      padding: 4px 14px;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
      border: 2px solid;
    }
    .place-order-btn {
      background: linear-gradient(135deg, #6C5CE7, #a29bfe);
      color: #fff;
      border: none;
      border-radius: 14px;
      padding: 12px 32px;
      font-family: 'Lilita One', cursive;
      font-size: 18px;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(108, 92, 231, 0.4);
      transition: all 0.2s;
      white-space: nowrap;
    }

    /* MODAL */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(8px);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 200;
      padding: 20px;
      animation: fadeIn 0.3s ease;
    }
    .modal-overlay.visible { display: flex; }
    .modal {
      background: #fff;
      border-radius: 24px;
      padding: 36px;
      max-width: 480px;
      width: 100%;
      box-shadow: 0 20px 60px rgba(0,0,0,0.2);
      animation: popIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .modal h2 {
      font-family: 'Lilita One', cursive;
      font-size: 26px;
      color: #2d3436;
      margin: 0 0 4px;
    }
    .modal .subtitle {
      font-size: 15px;
      color: #636e72;
      margin: 0 0 20px;
    }
    .form-label {
      font-weight: 800;
      font-size: 14px;
      color: #2d3436;
      display: block;
      margin-bottom: 6px;
    }
    .form-input {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #dfe6e9;
      border-radius: 12px;
      font-size: 16px;
      font-family: 'Nunito', sans-serif;
      outline: none;
      transition: border-color 0.2s;
      box-sizing: border-box;
    }
    .form-input:focus { border-color: #6C5CE7; }
    .form-textarea {
      width: 100%;
      padding: 12px 16px;
      border: 2px solid #dfe6e9;
      border-radius: 12px;
      font-size: 15px;
      font-family: 'Nunito', sans-serif;
      outline: none;
      resize: vertical;
      transition: border-color 0.2s;
      box-sizing: border-box;
    }
    .form-textarea:focus { border-color: #6C5CE7; }
    .order-chips { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 12px; }
    .order-chip {
      border-radius: 10px;
      padding: 6px 14px;
      font-size: 14px;
      font-weight: 700;
    }
    .error-msg {
      color: #e74c3c;
      font-weight: 700;
      font-size: 14px;
      margin: 0 0 12px;
    }
    .btn-row { display: flex; gap: 12px; }
    .go-back-btn {
      flex: 1;
      padding: 12px 0;
      border: 2px solid #dfe6e9;
      border-radius: 12px;
      background: #fff;
      font-weight: 800;
      font-size: 15px;
      color: #636e72;
      cursor: pointer;
      font-family: 'Nunito', sans-serif;
    }
    .send-btn {
      flex: 2;
      padding: 12px 0;
      border: none;
      border-radius: 12px;
      background: linear-gradient(135deg, #6C5CE7, #a29bfe);
      font-family: 'Lilita One', cursive;
      font-size: 17px;
      color: #fff;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(108,92,231,0.4);
    }
    .send-btn:disabled {
      background: #b2bec3;
      cursor: wait;
      box-shadow: none;
    }

    .success-screen { text-align: center; }
    .success-screen .big-emoji { font-size: 80px; margin-bottom: 16px; }
    .success-screen h2 { font-size: 28px; margin: 0 0 8px; }
    .success-screen p { font-size: 16px; color: #636e72; margin: 0 0 24px; line-height: 1.6; }
    .awesome-btn {
      background: linear-gradient(135deg, #00b894, #55efc4);
      color: #fff;
      border: none;
      border-radius: 14px;
      padding: 14px 36px;
      font-family: 'Lilita One', cursive;
      font-size: 18px;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(0, 184, 148, 0.4);
    }
  </style>
</head>
<body>

  <!-- HEADER -->
  <div class="header">
    <div class="header-glow"></div>
    <div class="header-content">
      <div class="header-emoji">üñ®Ô∏è</div>
      <h1>3D Print Shop</h1>
      <p>Pick what you want and I'll 3D print it for you! üé®</p>
    </div>
  </div>

  <!-- PRODUCTS -->
  <div class="grid-wrapper">
    <div class="products-grid" id="productsGrid"></div>
    <p class="hint-text" id="hintText">üëÜ Tap on items above to add them to your order!</p>
  </div>

  <!-- CART BAR -->
  <div class="cart-bar" id="cartBar">
    <div class="cart-inner">
      <div class="cart-left">
        <span class="cart-label">Your Order:</span>
        <div class="cart-items" id="cartItems"></div>
      </div>
      <button class="place-order-btn" onclick="openForm()">Place Order üõí</button>
    </div>
  </div>

  <!-- ORDER FORM MODAL -->
  <div class="modal-overlay" id="modalOverlay" onclick="closeForm()">
    <div class="modal" onclick="event.stopPropagation()">
      <!-- Form View -->
      <div id="formView">
        <h2>Almost done! üìã</h2>
        <p class="subtitle">Just tell me your name and I'll get printing!</p>

        <div style="margin-bottom: 16px;">
          <label class="form-label">Your Name</label>
          <input type="text" id="nameInput" class="form-input" placeholder="Type your name here..." />
        </div>

        <div style="margin-bottom: 12px;">
          <label class="form-label">Your Order</label>
          <div class="order-chips" id="orderChips"></div>
        </div>

        <div style="margin-bottom: 20px;">
          <label class="form-label">Special Requests (optional)</label>
          <textarea id="noteInput" class="form-textarea" rows="3" placeholder="Any special color or size? Type here..."></textarea>
        </div>

        <p class="error-msg" id="errorMsg" style="display:none;"></p>

        <div class="btn-row">
          <button class="go-back-btn" onclick="closeForm()">Go Back</button>
          <button class="send-btn" id="sendBtn" onclick="submitOrder()">Send Order! üöÄ</button>
        </div>
      </div>

      <!-- Success View -->
      <div id="successView" class="success-screen" style="display:none;">
        <div class="big-emoji">üéâ</div>
        <h2>Order Sent!</h2>
        <p id="successMsg"></p>
        <button class="awesome-btn" onclick="resetAll()">Awesome! ‚ú®</button>
      </div>
    </div>
  </div>

  <script>
    // ====== YOUR PRODUCTS ‚Äî EDIT THESE! ======
    const PRODUCTS = [
      { id: 1, name: "Dragon", emoji: "üêâ", description: "A super cool dragon with wings spread out. About 4 inches tall.", color: "#FF6B6B" },
      { id: 2, name: "Minecraft Sword", emoji: "‚öîÔ∏è", description: "A diamond sword from Minecraft. About 8 inches long.", color: "#4ECDC4" },
      { id: 3, name: "Phone Stand", emoji: "üì±", description: "A stand to hold your phone while watching videos.", color: "#45B7D1" },
      { id: 4, name: "Fidget Spinner", emoji: "üåÄ", description: "A 3D printed fidget spinner that actually spins!", color: "#F7DC6F" },
      { id: 5, name: "Pok√©ball", emoji: "‚ö°", description: "A Pok√©ball you can open and close. About 3 inches wide.", color: "#E74C3C" },
      { id: 6, name: "Keychain (Custom)", emoji: "üîë", description: "A custom keychain with your name on it!", color: "#9B59B6" },
      { id: 7, name: "Mini Chess Set", emoji: "‚ôüÔ∏è", description: "A tiny chess set with all the pieces. Board is 4x4 inches.", color: "#1ABC9C" },
      { id: 8, name: "Rocket Ship", emoji: "üöÄ", description: "A detailed rocket ship model. About 6 inches tall.", color: "#E67E22" },
    ];

    let cart = [];

    function toggleItem(id) {
      if (cart.includes(id)) {
        cart = cart.filter(i => i !== id);
      } else {
        cart.push(id);
      }
      renderAll();
    }

    function renderProducts() {
      const grid = document.getElementById("productsGrid");
      grid.innerHTML = PRODUCTS.map(p => `
        <div class="product-card ${cart.includes(p.id) ? 'in-cart' : ''}" 
             style="--card-color: ${p.color}; ${cart.includes(p.id) ? `border-color: ${p.color};` : ''}"
             onclick="toggleItem(${p.id})">
          <div class="card-image" style="background: linear-gradient(135deg, ${p.color}, ${p.color}cc);">
            <div class="glow"></div>
            <span class="emoji">${p.emoji}</span>
            <div class="check-badge" style="color: ${p.color};">‚úì</div>
          </div>
          <div class="card-body">
            <h3>${p.name}</h3>
            <p>${p.description}</p>
            <button class="add-btn" style="background: ${cart.includes(p.id) ? '#dfe6e9' : p.color}; color: ${cart.includes(p.id) ? '#636e72' : '#fff'};"
                    onclick="event.stopPropagation(); toggleItem(${p.id})">
              ${cart.includes(p.id) ? 'Remove ‚úï' : 'Add to Order Ôºã'}
            </button>
          </div>
        </div>
      `).join("");
    }

    function renderCart() {
      const bar = document.getElementById("cartBar");
      const hint = document.getElementById("hintText");
      const items = document.getElementById("cartItems");

      if (cart.length === 0) {
        bar.classList.remove("visible");
        hint.style.display = "block";
        document.body.style.paddingBottom = "40px";
        return;
      }

      hint.style.display = "none";
      bar.classList.add("visible");
      document.body.style.paddingBottom = "100px";

      items.innerHTML = cart.map(id => {
        const p = PRODUCTS.find(pr => pr.id === id);
        return `<span class="cart-chip" style="background: ${p.color}22; border-color: ${p.color}; color: ${p.color};" onclick="toggleItem(${p.id})">${p.emoji} ${p.name} ‚úï</span>`;
      }).join("");
    }

    function renderAll() {
      renderProducts();
      renderCart();
    }

    function openForm() {
      document.getElementById("formView").style.display = "block";
      document.getElementById("successView").style.display = "none";
      document.getElementById("errorMsg").style.display = "none";
      document.getElementById("nameInput").value = "";
      document.getElementById("noteInput").value = "";

      const chips = document.getElementById("orderChips");
      chips.innerHTML = cart.map(id => {
        const p = PRODUCTS.find(pr => pr.id === id);
        return `<span class="order-chip" style="background: ${p.color}18; border: 2px solid ${p.color}44;">${p.emoji} ${p.name}</span>`;
      }).join("");

      document.getElementById("modalOverlay").classList.add("visible");
    }

    function closeForm() {
      document.getElementById("modalOverlay").classList.remove("visible");
    }

    async function submitOrder() {
      const name = document.getElementById("nameInput").value.trim();
      const note = document.getElementById("noteInput").value.trim();
      const errorEl = document.getElementById("errorMsg");
      const sendBtn = document.getElementById("sendBtn");

      if (!name) {
        errorEl.textContent = "‚ö†Ô∏è Please type your name!";
        errorEl.style.display = "block";
        return;
      }

      sendBtn.disabled = true;
      sendBtn.textContent = "Sending... ‚è≥";
      errorEl.style.display = "none";

      const orderItems = cart.map(id => {
        const p = PRODUCTS.find(pr => pr.id === id);
        return `${p.emoji} ${p.name}`;
      }).join(", ");

      const message = `New 3D Print Order!\n\nFrom: ${name}\nItems: ${orderItems}${note ? `\nNote: ${note}` : ""}`;

      try {
        const res = await fetch("https://api.web3forms.com/submit", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            access_key: "0dfacc85-ba49-4954-9251-907de360bd6d",
            subject: "üñ®Ô∏è New 3D Print Order from " + name + "!",
            message: message,
            from_name: name,
          }),
        });
        const data = await res.json();
        if (data.success) {
          showSuccess(name);
        } else {
          errorEl.textContent = "‚ö†Ô∏è Hmm, something went wrong. Try again!";
          errorEl.style.display = "block";
        }
      } catch (e) {
        errorEl.textContent = "‚ö†Ô∏è Couldn't send. Check your internet and try again!";
        errorEl.style.display = "block";
      }

      sendBtn.disabled = false;
      sendBtn.textContent = "Send Order! üöÄ";
    }

    function showSuccess(name) {
      document.getElementById("formView").style.display = "none";
      document.getElementById("successView").style.display = "block";
      document.getElementById("successMsg").textContent = `Thanks ${name}! I got your order and I'll start printing soon. üñ®Ô∏è`;
    }

    function resetAll() {
      cart = [];
      closeForm();
      renderAll();
    }

    // Initial render
    renderAll();
  </script>
</body>
</html>
